_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[95],{"4JlD":function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,c){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?a(i(e),(function(i){var c=encodeURIComponent(n(i))+r;return o(e[i])?a(e[i],(function(e){return c+encodeURIComponent(n(e))})).join(t):c+encodeURIComponent(n(e[i]))})).join(t):c?encodeURIComponent(n(c))+r+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function a(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},Hg5H:function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return h}));var n=r("nKUr"),o=r("MX0m"),a=r.n(o),i=(r("q1tI"),r("YFqc")),c=r.n(i),s=r("RVZx"),l=r("RwKQ"),u=function(){return Object(n.jsxs)("header",{className:"jsx-1036084266 auth-header",children:[Object(n.jsx)("div",{className:"jsx-1036084266 auth-header-logo",children:Object(n.jsx)("div",{className:"jsx-1036084266",children:Object(n.jsx)(c.a,{href:"/",children:Object(n.jsx)("a",{className:"jsx-1036084266 auth-header-logo-link",children:Object(n.jsx)(l.a,{})})})})}),Object(n.jsx)(a.a,{id:"1036084266",children:[".auth-header.jsx-1036084266{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:0 25px;background-color:var(--background-default);border-bottom:var(--accent-grey-strongest);height:60px;}",".auth-header-logo-link.jsx-1036084266{display:block;width:auto;height:28px;color:var(--foreground-default);overflow:hidden;-webkit-text-decoration:none;text-decoration:none;}",".auth-header-logo.jsx-1036084266,.auth-header-nav.jsx-1036084266{width:70px;}",".auth-header-title.jsx-1036084266{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;font-weight:normal;color:black;font-size:130%;}","@media (min-width:400px){.auth-header-logo-link.jsx-1036084266{width:116px;}}"]})]})},p=function(e){var t=e.heading,r=e.subHeading;return Object(n.jsxs)("div",{className:"jsx-2149188480 auth-welcome-header",children:[Object(n.jsx)("div",{className:"jsx-2149188480 auth-welcome-heading",children:t}),r&&Object(n.jsx)("div",{className:"jsx-2149188480 auth-welcome-subheading",children:r}),Object(n.jsx)(a.a,{id:"2149188480",children:[".auth-welcome-header.jsx-2149188480{width:100%;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;background-color:rgb(81,146,179);display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:200px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;margin-bottom:20px;}",".auth-welcome-heading.jsx-2149188480{font-size:44px;color:rgb(255,255,255);font-weight:100;white-space:nowrap;width:75%;overflow:hidden;text-overflow:ellipsis;text-align:center;}",".auth-welcome-subheading.jsx-2149188480{font-size:20px;font-weight:400;margin-top:5px;color:rgba(255,255,255,0.5);}"]})]})},h=function(e){var t=e.children,r=e.title,o=e.description,i=e.image,c=e.minHeight;return Object(n.jsxs)(s.a,{title:r,description:o,image:i,style:{paddingTop:0},noFooter:!0,noHeader:!0,hideEmailVerify:!0,noSidebar:!0,children:[Object(n.jsx)(u,{title:r}),Object(n.jsx)("div",{className:a.a.dynamic([["2227031589",[null!==c&&void 0!==c?c:"100vh"]]])+" auth-layout-content",children:t}),Object(n.jsx)(a.a,{id:"2227031589",dynamic:[null!==c&&void 0!==c?c:"100vh"],children:[".auth-layout-content.__jsx-style-dynamic-selector{min-height:".concat(null!==c&&void 0!==c?c:"100vh",";padding-top:60px;margin-top:-60px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}")]})]})}},P7XM:function(e,t){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},QmWs:function(e,t,r){var n,o=(n=r("s4NR"))&&"object"==typeof n&&"default"in n?n.default:n,a=/https?|ftp|gopher|file/;function i(e){"string"==typeof e&&(e=j(e));var t=function(e,t,r){var n=e.auth,o=e.hostname,a=e.protocol||"",i=e.pathname||"",c=e.hash||"",s=e.query||"",l=!1;n=n?encodeURIComponent(n).replace(/%3A/i,":")+"@":"",e.host?l=n+e.host:o&&(l=n+(~o.indexOf(":")?"["+o+"]":o),e.port&&(l+=":"+e.port)),s&&"object"==typeof s&&(s=t.encode(s));var u=e.search||s&&"?"+s||"";return a&&":"!==a.substr(-1)&&(a+=":"),e.slashes||(!a||r.test(a))&&!1!==l?(l="//"+(l||""),i&&"/"!==i[0]&&(i="/"+i)):l||(l=""),c&&"#"!==c[0]&&(c="#"+c),u&&"?"!==u[0]&&(u="?"+u),{protocol:a,host:l,pathname:i=i.replace(/[?#]/g,encodeURIComponent),search:u=u.replace("#","%23"),hash:c}}(e,o,a);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var c="http://",s="w.w",l=c+s,u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,p=/https?|ftp|gopher|file/;function h(e,t){var r="string"==typeof e?j(e):e;e="object"==typeof e?i(e):e;var n=j(t),o="";r.protocol&&!r.slashes&&(o=r.protocol,e=e.replace(r.protocol,""),o+="/"===t[0]||"/"===e[0]?"/":""),o&&n.protocol&&(o="",n.slashes||(o=n.protocol,t=t.replace(n.protocol,"")));var a=e.match(u);a&&!n.protocol&&(e=e.substr((o=a[1]+(a[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var s=new URL(e,l+"/"),h=new URL(t,s).toString().replace(l,""),f=n.protocol||r.protocol;return f+=r.slashes||n.slashes?"//":"",!o&&f?h=h.replace(c,f):o&&(h=h.replace(c,"")),p.test(h)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==h.slice(-1)||(h=h.slice(0,-1)),o&&(h=o+("/"===h[0]?h.substr(1):h)),h}function f(){}f.prototype.parse=j,f.prototype.format=i,f.prototype.resolve=h,f.prototype.resolveObject=h;var d=/^https?|ftp|gopher|file/,m=/^(.*?)([#?].*)/,b=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,y=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function j(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=!1),e&&"object"==typeof e&&e instanceof f)return e;var n=(e=e.trim()).match(m);e=n?n[1].replace(/\\/g,"/")+n[2]:e.replace(/\\/g,"/"),y.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(b),c=g.test(e),u="";a&&(d.test(a[1])||(u=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(c=!1,d.test(a[1])?(u=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(u=a[1],e="/"+a[3]));var p,h=(n?n[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),j=h&&h[1],v=new f,x="",w="";try{p=new URL(e)}catch(o){x=o,u||r||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(w="/",e=e.substr(1));try{p=new URL(e,l)}catch(e){return v.protocol=u,v.href=u,v}}v.slashes=c&&!w,v.host=p.host===s?"":p.host,v.hostname=p.hostname===s?"":p.hostname.replace(/(\[|\])/g,""),v.protocol=x?u||null:p.protocol,v.search=p.search.replace(/\\/g,"%5C"),v.hash=p.hash.replace(/\\/g,"%5C");var O=e.split("#");!v.search&&~O[0].indexOf("?")&&(v.search="?"),v.hash||""!==O[1]||(v.hash="#"),v.query=t?o.decode(p.search.substr(1)):v.search.substr(1),v.pathname=w+(a?function(e){return e.replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}}))}(p.pathname):p.pathname),"about:"===v.protocol&&"blank"===v.pathname&&(v.protocol="",v.pathname=""),x&&"/"!==e[0]&&(v.pathname=v.pathname.substr(1)),u&&!d.test(u)&&"/"!==e.slice(-1)&&"/"===v.pathname&&(v.pathname=""),v.path=v.pathname+v.search,v.auth=[p.username,p.password].map(decodeURIComponent).filter(Boolean).join(":"),v.port=p.port,j&&!v.host.endsWith(j)&&(v.host+=j,v.port=j.slice(1)),v.href=w?""+v.pathname+v.search+v.hash:i(v);var k=/^(file)/.test(v.href)?["host","hostname"]:[];return Object.keys(v).forEach((function(e){~k.indexOf(e)||(v[e]=v[e]||null)})),v}t.parse=j,t.format=i,t.resolve=h,t.resolveObject=function(e,t){return j(h(e,t))},t.Url=f},"W/yk":function(e,t,r){"use strict";var n=r("QmWs");t.a=function(e,t){var r=e.host,o=e.protocol,a=t?Object(n.parse)(t,!0):{query:{},pathname:"/"},i=a.query,c=a.pathname;return Object(n.format)({protocol:o,host:r,pathname:c,query:i})}},kd2E:function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,a){t=t||"&",r=r||"=";var i={};if("string"!==typeof e||0===e.length)return i;var c=/\+/g;e=e.split(t);var s=1e3;a&&"number"===typeof a.maxKeys&&(s=a.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var u=0;u<l;++u){var p,h,f,d,m=e[u].replace(c,"%20"),b=m.indexOf(r);b>=0?(p=m.substr(0,b),h=m.substr(b+1)):(p=m,h=""),f=decodeURIComponent(p),d=decodeURIComponent(h),n(i,f)?o(i[f])?i[f].push(d):i[f]=[i[f],d]:i[f]=d}return i};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},m87k:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return r("qIq5")}])},mImh:function(e,t,r){"use strict";function n(e,t){if(!e)return null;var r=e[t];return r?Array.isArray(r)?null:r:null}r.d(t,"a",(function(){return n}))},qIq5:function(e,t,r){"use strict";r.r(t);var n=r("vJKn"),o=r.n(n),a=r("rg98"),i=r("BGKE"),c=r("H+61"),s=r("UlJF"),l=r("+Css"),u=r("7LId"),p=r("VIvw"),h=r("iHvq"),f=r("cpVT"),d=r("q1tI"),m=r.n(d),b=r("20a2"),g=r.n(b),y=r("/MKj"),j=r("2SQs"),v=r.n(j),x=r("Hg5H"),w=r("8TBL"),O=r("+NPu"),k=r("9PDL"),C=r("3gM7"),U=function(){return{href:"/home",as:"/~"}},R=r("W/yk"),q=r("mImh"),S=r("S83v");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(h.a)(e);if(t){var o=Object(h.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(p.a)(this,r)}}var L=function(e){Object(u.a)(r,e);var t=A(r);function r(){var e;Object(c.a)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),Object(f.a)(Object(l.a)(e),"handleSubmit",(function(t){if("error"in t&&t.error)e.props.showMessage({content:t.error,type:"error",time:3e3});else{if(!("user"in t)||!t.user)throw new Error("Expected error or user object");var r=e.state,n=r.isLogin,o=r.isTeacher;e.props.showMessage({content:"".concat(n?"Login":"Signup"," Successful"),type:"confirm",time:2e3});var a=e.props.router.query,i=n&&!t.social||t.social&&!t.newUser,c=t.user.roles.includes("teacher"),s=t.user.isVerified,l=Object(q.a)(a,"goto");if(i)if(!c||s||null!==l&&void 0!==l&&l.startsWith("/data/user/verify"))if(l)window.location.href=Object(R.a)(window.location,l);else{var u=U(),p=u.href,h=u.as;g.a.push(p,h)}else window.location.href="/verify";else l?window.location.href=Object(R.a)(window.location,l):o&&Object(k.a)(t.user,"flag-teams-onboarding")?Object(k.a)(t.user,"flag-teacher-email-verification")?window.location.href="/verify"+(t.organization?"?organization="+encodeURIComponent(t.organization):""):window.location.href="/teams/free-trial":"landing"===g.a.query.from?window.location.href="/~?from=landing":window.location.href="/~"}})),Object(f.a)(Object(l.a)(e),"handleChangeAuth",(function(){var t=e.props.router.query;e.setState((function(e){return{isLogin:!e.isLogin}}),(function(){var r=e.state.isLogin?"/login":"/signup";g.a.push({pathname:"/auth",query:t},{pathname:r,query:t},{shallow:!0})}))})),Object(f.a)(Object(l.a)(e),"toggleTeacher",(function(){var t=e.props.router.query;e.setState((function(e){return{isTeacher:!e.isTeacher}}),(function(){var r=P({},t);delete r.teacher,e.state.isTeacher&&(r.teacher="1"),g.a.push({pathname:"/auth",query:r},{pathname:"/signup",query:r},{shallow:!0})}))})),e}return Object(s.a)(r,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.router.asPath;if(e){var t=e.includes("/login"),r="teacher"in v()(this.props.router.query,"path");this.setState({isLogin:t,isTeacher:r})}}},{key:"render",value:function(){var e=v()(this.props.router.query,"path"),t=this.state,r=t.isTeacher,n=t.isLogin,o=e,a=o.title,c=o.description,s=o.image,l=n?"Log In":"Sign Up";return Object(i.c)(x.a,{title:a||l,description:c,image:s,minHeight:"100vh",children:[e.googleClassroom&&Object(i.b)(x.b,{heading:"Welcome to Teams for Education",subHeading:"Please use your Google account to join your team"}),Object(i.b)(w.a,{email:e.email?e.email.toString():void 0,isLogin:n,isTeacher:r,onSubmit:this.handleSubmit,onChangeAuth:this.handleChangeAuth,toggleTeacher:this.toggleTeacher,privacyInvite:e.invite?e.invite.toString():void 0,randomUsername:e.randomUsername?e.randomUsername.toString():void 0,googleClassroom:Boolean(e.googleClassroom)}),Object(i.b)(S.a,{})]})}}],[{key:"getInitialProps",value:function(){var e=Object(a.a)(o.a.mark((function e(t){var r,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.req,n=t.store,r){e.next=7;break}return e.next=4,Object(C.a)(r,n);case 4:a=e.sent,a.user&&g.a.replace("/replsDashboard",{pathname:"/repls"});case 7:return e.abrupt("return",{});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(m.a.Component);t.default=Object(y.c)(null,{showMessage:O.b})(L)},s4NR:function(e,t,r){"use strict";t.decode=t.parse=r("kd2E"),t.encode=t.stringify=r("4JlD")}},[["m87k",2,1,0,3,4,6,7,9,11,28]]]);